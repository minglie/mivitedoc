

# 等价关系与不变量

[原文语雀链接](https://lucd6w.yuque.com/lucd6w/sfwhhr/kw5g8i)



**等价关系**是满足**自反**、**对称**、**传递**的关系，是数学中最重要的主题之一。

- 等价关系是用来发明知识的知识。
- 从分析等价关系的不变量与判定量角度理解等价关系。
## 不变量与判定量
![在这里插入图片描述](https://i-blog.csdnimg.cn/direct/be9449372bbe4c6aaa4a9c41a44a5f76.webp#pic_center)
# 几个易混淆的重要概念


| **概念**          | **公式/定义**                                                                     | **作用**                            |
|-----------------|-------------------------------------------------------------------------------|-----------------------------------|
| **不变量（分析性质）**   | $x \sim y \Rightarrow f(x) = f(y)$                                            | 用于描述某些属性在变换下保持不变，强调对象之间的相似性。      |
| **判定量（等价判定）**   | $x \not\sim y \Rightarrow f(x) \neq f(y)$                                     | 用于大致判定两个对象是否等价，帮助识别对象之间的相似性或差异性。  |
| **完全不变量（特征函数）** | $x \sim y \Leftrightarrow f(x) = f(y) = A(A是特征值)$                             | 通过特征值来确定等价类中元素的相等性，帮助精确分类。        |
| **等价变换（形式转换）**  | $x \sim f(x)$                                                                 | 描述对象与其变换之间的关系，展示变换后对象的等价性。        |
| **保等价映射**       | $x \sim y \Rightarrow f(x) \sim f(y)$                                         | 用于保证在映射过程中等价关系保持不变，保证变换的相似性。      |
| **反向保等价映射**     | $x \not\sim y \Rightarrow f(x) \not\sim f(y)$                                 | 描述在反向映射中，等价关系的保持性，帮助验证变换的合理性。     |
| **双向保等价映射**     | $x \sim y \Leftrightarrow f(x) \sim f(y)$                                     | 强调双向变换下等价关系的对称性，保证变换前后的等价性。       |
| **标准型（解决问题）**   | $k_1 \sim k_2  \sim k_0$                                                      | 选取等价类中形式最简单的元素$k_0$作代表元,使得问题处理很方便 |

>注意 ：这里的 不变量 ,判断量,等价变换,等价映射 都是映射, 而不是指一个数或一个量

1. 等价关系告诉我们了一个思考问题的方向，找不变量, 判定量,标准型,特征函数, 等价变换,等价映射等,  [电枢公式](https://lucd6w.yuque.com/lucd6w/sfwhhr/ezxfkg?singleDoc)是和同余关系类似的等价关系也是围绕上述概念展开的。
2.  同解矩阵,相抵矩阵,相似矩阵,合同矩阵 都是等价关系，都有各自的等价变换和标准型。
3.  数学上各种各样的同X关系,也必然是围绕上述概念提供的方向去想的。
# 约定

1. 等价关系与划分一一对应。
2. 等价关系可以用来转换问题。
3. $K=\{k_0, k_1, ..., k_s\}$ 是商集 $W/\sim$ 的一个元素，$k_0$ 是 $K$ 的标准型。
4. $L=\{L_0, L_1, ..., L_t\}$ 是商集 $W/\sim$ 的一个元素，$L_0$ 是 $L$ 的标准型。
5. 变换 $f(K_i) = K_j$ 是等价关系的等价变换，等价变换通常是商集元上的置换。
6. 函数 $f(K_i) = f(K_j) = A$ 叫做等价关系的一个特征函数，$A$ 是等价关系的一个特征值。
    - 特征值由特征函数决定，特征值不一定是商集元的元素。
    - 特征值的个数就是商集元素的个数。
7. 矩阵的特征值是根据特征值分类特征向量的等价关系的特征值。
8. 等价关系的所有标准型或所有特征值都和等价关系的商集有一一对应。
9. 等价变换、特征函数、同态映射都可用于判定两个元素是否等价。
10. 将元素 $k$ 经过等价变换到 $k_0$，便是解决问题 $T$ 的主要步骤。
11. 问题 $T$ 的等价关系指的是对问题 $T$ 的答案进行分类划分对应的那个等价关系。

---

# 问题 $T$ 的等价关系

- 是一个与集合 $W$ 相关的问题，在问题 $T$ 中，$x = T(w)$，$w$ 的答案是 $x$。
- 可定义如下的与 $T$ 相关的等价关系 $\sim$：

    1. $k_0 = T(k)$，$k_0$ 是 $k$ 在问题 $T$ 中的标准型。
    2. $w_1 \sim w_2 \Leftrightarrow T(w_1) = T(w_2)$
    3. $w_1$ 和 $w_2$ 等价 $\Leftrightarrow$ $w_1$ 与 $w_2$ 有相同的答案。

---

# 标准型（代表元）

- $K=\{k_0, k_1, ..., k_s\}$ 是商集 $W/\sim$ 的一个元素，如果用 $K$ 中的元素 $k_0$ 解决问题 $T$ 是最简便的，那么 $k_0$ 就是 $K$ 的最佳代表元，称为标准型。
- 所有标准型构成的集合是对商集 $W/\sim$ 的标准表示。
- $K$ 中元素的标准型都是 $k_0$，所以可以说 $k_0$ 是 $k_1, k_2, ..., k_s$ 的标准型。
- 解决问题 $T$，就自然地转换成求对应的标准型。
- 标准型一般是唯一的，但如果一个等价类中有很多元素都能很容易地得到答案，这些元素可构成该等价关系的一个标准型类，但一般仍会从标准型类中选取一个形式固定的标准型，使得标准型唯一。
- 以便我们可以通过对比两个元素的标准型是否相等来判断两个元素是否等价。
- 问题 $T$ 的所有标准型是商集的标准表示，将其称为**标准系**。
- $K$ 的标准型 $k_0$ 应当能直接得到问题 $T$ 的答案。
- $k \sim k_0$

**例子：**

- 矩阵 $A$ 和矩阵 $B$ 相似，因为 $A$ 的标准型 $A_0$ 和 $B$ 的标准型 $B_0$ 一样。
- $13$ 和 $25$ 关于模 $12$ 同余，因为 $13$ 和 $25$ 的标准型都是 $1$（余数）。
- $8$ 和 $4$ 关于模 $12$ 同绕，因为 $8$ 和 $4$ 的标准型都是 $4$（最小绕数）。

---

# 等价变换

- 满足 $x \sim f(x)$ 的变换叫做等价关系的等价变换，即不改变等价关系的变换。
- 不改变元素标准型的变换叫做等价变换。
- 任何一个问题 $T$ 的所有等价变换构成的变换群可分解为若干变换的复合 $\langle T_1, T_2, T_3 \rangle$，这些 $T_1, T_2, ...$ 可以让我们方便地找到 $w$ 的标准型。
- 为什么辗转相除法在数论证明中用得很多？因为我们要经常计算一个数的标准型（余数）。

**例子：**

- $y = x + sn$ 是同余关系的等价变换。
- $|A| = 1, f(x) = Ax$ 是相抵矩阵关系的等价变换。

---

# 特征函数（完全不变量）

- 这里的特征函数与概率中的特征函数无关，而是使用函数来描述一个等价关系。
- 满足 $x \sim y \Leftrightarrow f(x) = f(y)$ 的 $f$ 是等价关系 $\sim$ 的特征函数，特征函数的值称为特征值。
- 一个特征函数可以确定一个等价关系。
- 一个等价关系可以定义多种特征函数。
- 特征函数总是存在的，比如可以直接把上面的映射到标准型的等价变换作为等价关系的特征函数，此时的特征值是标准型。
- 所以根据特征函数的选取不同，特征值可以是等价类中的元素，也可以不是。
- 标准型 $k_0$ 的定义，要求 $f(k_0)$ 的计算是最直接的，所以通常将 $K$ 中元素的特征值都定义为 $k_0$，即 $f(K_j) = k_0$。

**例子：**

- $f(x) = x \bmod n$ 是同余关系的特征函数。
- $f(x) = x \bmod n + 5$ 是同余关系的特征函数。
- $f(x) = \sin x$ 不是同余关系的特征函数。

---

## 问题 $T$ 中求 $w$ 的答案 $X$ 的步骤

1. 利用特征函数，列出问题 $T$ 相关的输入输出答案对 $(w_0, x_1), (w_1, x_1), (w_2, x_2), (w_3, x_1), ...$
2. 找出 $x$ 相同的 $w$ 的共同特点，定义标准型，和找出等价变换，$x$ 描述了这些 $w$ 的特征。
3. 利用第 2 步的等价变换，找出 $w$ 的最佳代表元 $w_0$，使用 $w_0$ 得到 $X$ 即可。

**例子：**

- 辗转相除法实际就是利用等价变换计算特征值的过程。
- 高斯消元法实际就是利用等价变换计算特征值的过程。
- 同绕关系中，可用等价变换 $y = n - x$ 来计算出等价类的特征值 $k_0$，只不过有更快的方法而不这样做。 